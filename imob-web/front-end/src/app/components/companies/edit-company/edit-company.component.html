<mat-card>
    <mat-card-header>
        <mat-card-title>Gestão Interna</mat-card-title>
        <mat-card-subtitle>Edição de Imobiliária</mat-card-subtitle>
    </mat-card-header>

    <br />

    <mat-card-content class="mat-elevation-z4">
        <mat-toolbar>
            <span>Imobiliária</span>
        </mat-toolbar>

        <div class="container">
            <div class="flex-container">
                <form [formGroup]="formGroup" (ngSubmit)="onSubmit()">
                    <div fxLayout="column" fxLayout.lg="row" fxLayout.xl="row">
                        <div fxFlex="100">
                            <mat-form-field>
                                <mat-label>Razão Social</mat-label>
                                <input
                                    type="text"
                                    formControlName="corporateName"
                                    matInput
                                    placeholder="Ex: Alessandra e Luiz Esportes Ltda"
                                    required />
                                <mat-error
                                    *ngIf="
                                        formGroup.get('corporateName')?.touched &&
                                        formGroup.get('corporateName')?.errors?.required
                                    ">
                                    Campo obrigatório!
                                </mat-error>
                                <mat-error
                                    *ngIf="
                                        formGroup.get('corporateName')?.touched &&
                                        formGroup.get('corporateName')?.errors?.minlength
                                    ">
                                    A Razão Social deve conter no mínimo 10 caracteres!
                                </mat-error>
                                <mat-error
                                    *ngIf="
                                        formGroup.get('corporateName')?.touched &&
                                        formGroup.get('corporateName')?.errors?.maxlength
                                    ">
                                    A Razão Social deve conter no máximo 256 caracteres!
                                </mat-error>
                            </mat-form-field>
                        </div>
                    </div>

                    <div
                        fxLayout="column"
                        fxLayout.lg="row"
                        fxLayout.xl="row"
                        fxLayoutGap.lg="20px"
                        fxLayoutGap.xl="20px">
                        <div fxFlex="50">
                            <mat-form-field>
                                <mat-label>CNPJ</mat-label>
                                <input
                                    type="text"
                                    formControlName="CNPJ"
                                    matInput
                                    placeholder="Ex: 81.976.180/0001-43"
                                    [mask]="MASKS.CNPJ"
                                    required />
                                <mat-error
                                    *ngIf="
                                        formGroup.get('CNPJ')?.touched &&
                                        formGroup.get('CNPJ')?.errors?.required
                                    ">
                                    Campo obrigatório!
                                </mat-error>
                                <mat-error
                                    *ngIf="
                                        formGroup.get('CNPJ')?.touched &&
                                        formGroup.get('CNPJ')?.errors?.mask
                                    ">
                                    Campo inválido!
                                </mat-error>
                            </mat-form-field>
                        </div>

                        <div fxFlex="50">
                            <mat-form-field>
                                <mat-label>Inscrição Estadual</mat-label>
                                <input
                                    type="text"
                                    formControlName="stateRegistration"
                                    matInput
                                    placeholder="Ex: 324.045.784/8152"
                                    [mask]="MASKS.STATE_REGISTRATION"
                                    required />
                                <mat-error
                                    *ngIf="
                                        formGroup.get('stateRegistration')?.touched &&
                                        formGroup.get('stateRegistration')?.errors?.required
                                    ">
                                    Campo obrigatório!
                                </mat-error>
                                <mat-error
                                    *ngIf="
                                        formGroup.get('stateRegistration')?.touched &&
                                        formGroup.get('stateRegistration')?.errors?.mask
                                    ">
                                    Campo inválido!
                                </mat-error>
                            </mat-form-field>
                        </div>
                    </div>

                    <div
                        fxLayout="column"
                        fxLayout.lg="row"
                        fxLayout.xl="row"
                        fxLayoutGap.lg="20px"
                        fxLayoutGap.xl="20px">
                        <div fxFlex="33.33">
                            <div>
                                <mat-form-field>
                                    <mat-label>Percentual de Comissão a Receber</mat-label>
                                    <input
                                        type="text"
                                        formControlName="percentageCommissionReceivable"
                                        matInput
                                        placeholder="Ex: 5.75%"
                                        maxlength="6"
                                        mask="percent"
                                        suffix="%"
                                        [dropSpecialCharacters]="false" />
                                </mat-form-field>
                            </div>
                        </div>

                        <div fxFlex="33.33">
                            <div>
                                <mat-form-field>
                                    <mat-label
                                        >Percentual de Comissão a Pagar por Negócios Fechados</mat-label
                                    >
                                    <input
                                        type="text"
                                        formControlName="percentageCommissionPayableForClosedDeals"
                                        matInput
                                        placeholder="Ex: 2.5%"
                                        maxlength="6"
                                        mask="percent"
                                        suffix="%"
                                        [dropSpecialCharacters]="false" />
                                </mat-form-field>
                            </div>
                        </div>

                        <div fxFlex="33.33">
                            <div>
                                <mat-form-field>
                                    <mat-label
                                        >Percentual de Comissão a Pagar por Imóveis Captados</mat-label
                                    >
                                    <input
                                        type="text"
                                        formControlName="percentageCommissionPayableForPropertyCaptured"
                                        matInput
                                        placeholder="Ex: 2.5%"
                                        maxlength="6"
                                        mask="percent"
                                        suffix="%"
                                        [dropSpecialCharacters]="false" />
                                </mat-form-field>
                            </div>
                        </div>
                    </div>

                    <div
                        fxLayout.xs="column"
                        fxLayout="row"
                        fxLayoutGap="20px"
                        fxLayoutAlign="end center">
                        <div>
                            <button type="button" mat-raised-button routerLink="/content/companies/list">
                                Cancelar
                            </button>
                        </div>

                        <div>
                            <button
                                type="submit"
                                mat-raised-button
                                color="primary"
                                [disabled]="!formGroup.valid">
                                Salvar
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </mat-card-content>
</mat-card>
